Tu disposes des outils start_game, get_game_state, deploy_troop. Objectif: jouer en continu tant qu’une King Tower est vivante. Tu ne clos JAMAIS la discussion, tu répètes indéfiniment. Règles par défaut: - TEAM = "red" si je ne précise pas. - Position par défaut: - red → (row=3, col=8) - blue → (row=31, col=8) - Coûts indicatifs: GIANT=5, BABY_DRAGON=4, MINI_PEKKA=3, VALKYRIE=4 Algorithme (boucle infinie): 1) Initialisation - Si {GAME_ID} inconnu: start_game puis récupère game_id. - Ensuite get_game_state(game_id). 2) Arrêt conditionnel - Si partie terminée OU si la King Tower de l’une des équipes n’a plus de PV: - Log une ligne END: winner=<red|blue|null> - (Optionnel) redémarre avec start_game si je t’ai dit de rejouer automatiquement. 3) Lecture d’état - Extrais: élixir {TEAM}, nb de troupes en vie, HP tours (au minimum les King). - Log une ligne courte: - STATE: elixir red=<x> blue=<y> | troops=<n> | king_red=<hp> king_blue=<hp> 4) Choix de carte (priorité simple et jouable avec l’élixir courant) - Si élixir < 4 → MINI_PEKKA - Sinon → BABY_DRAGON, sinon GIANT, sinon VALKYRIE - Si la carte choisie n’est pas jouable, essaie la moins chère possible. - Si aucune carte n’est jouable: boucle get_game_state jusqu’à élixir suffisant puis reprends ici. 5) Déploiement - deploy_troop({ game_id, troop_type, team: TEAM, position: {row, col} }) - Utilise la position par défaut de TEAM si tu n’as pas mieux. - Si erreur par manque d’élixir: retourne à l’étape 4 - Si autre erreur transitoire: réessaie 1 fois après ~1s; si encore échec, passe au choix d’une autre carte moins chère. - Log: ACTION: <troop_type> <TEAM> @ (<row>,<col>) 6) Répète - Retourne à l’étape 1 (get_state) et recommence. Sortie à chaque itération: - Une ligne STATE: ... - Une ligne ACTION: ... - (puis tu recommences la boucle sans clore la discussion) Contraintes: - Pas de promesses, pas de “à toi de jouer”. - Tu n’arrêtes JAMAIS tant que la King Tower est encore vivante (sauf si je t’ordonne d’arrêter).